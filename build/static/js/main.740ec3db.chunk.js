(this["webpackJsonpjangs-shopping-mall-frontend"]=this["webpackJsonpjangs-shopping-mall-frontend"]||[]).push([[0],{17:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(27),d=n.n(c),l=(n(17),n(12)),s=n(2),i=n(9),j=n(10),b=n.n(j),o=n(0);var h=function(){const[e,t]=Object(r.useState)({name:"",age:"",gender:"",address:"",phone_number:"",email_address:""}),n=e=>{const{name:n,value:r}=e.target;t((e=>Object(i.a)(Object(i.a)({},e),{},{[n]:r})))};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Jangs Shopping Mall Membership"}),Object(o.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{const n=await b.a.post("/members",e);alert("Member added successfully! ID: "+n.data.id),t({name:"",age:"",gender:"",address:"",phone_number:"",email_address:""})}catch(c){var r,a;console.error("Error adding member:",c),alert("Failed to add member: "+(null===(r=c.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.details)||!1)}},children:[Object(o.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:e.name,onChange:n,required:!0}),Object(o.jsx)("input",{type:"number",name:"age",placeholder:"Age",value:e.age,onChange:n,min:"18",required:!0}),Object(o.jsxs)("select",{name:"gender",value:e.gender,onChange:n,required:!0,children:[Object(o.jsx)("option",{value:"",children:"Select Gender"}),Object(o.jsx)("option",{value:"male",children:"Male"}),Object(o.jsx)("option",{value:"female",children:"Female"}),Object(o.jsx)("option",{value:"other",children:"Other"})]}),Object(o.jsx)("input",{type:"text",name:"address",placeholder:"Address",value:e.address,onChange:n,required:!0}),Object(o.jsx)("input",{type:"tel",name:"phone_number",placeholder:"Phone Number",value:e.phone_number,onChange:n,required:!0}),Object(o.jsx)("input",{type:"email",name:"email_address",placeholder:"Email Address",value:e.email_address,onChange:n,required:!0}),Object(o.jsx)("button",{type:"submit",children:"Sign Up"})]})]})};var m=function(){const[e,t]=Object(r.useState)([]),[n,a]=Object(r.useState)(null);Object(r.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await b.a.get("/members");t(e.data)}catch(e){console.error("Error fetching members:",e),alert("Failed to fetch members")}},d=e=>{const{name:t,value:n}=e.target;a((e=>Object(i.a)(Object(i.a)({},e),{},{[t]:n})))};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Admin - Member Management"}),n&&Object(o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await b.a.put("/members/".concat(n.id),n),c(),a(null),alert("Member updated successfully")}catch(t){console.error("Error updating member:",t),alert("Failed to update member")}},children:[Object(o.jsx)("h3",{children:"Edit Member"}),Object(o.jsx)("input",{type:"text",name:"name",value:n.name,onChange:d,placeholder:"Full Name",required:!0}),Object(o.jsx)("input",{type:"number",name:"age",value:n.age,onChange:d,placeholder:"Age",min:"18",required:!0}),Object(o.jsxs)("select",{name:"gender",value:n.gender,onChange:d,required:!0,children:[Object(o.jsx)("option",{value:"",children:"Select Gender"}),Object(o.jsx)("option",{value:"male",children:"Male"}),Object(o.jsx)("option",{value:"female",children:"Female"}),Object(o.jsx)("option",{value:"other",children:"Other"})]}),Object(o.jsx)("input",{type:"text",name:"address",value:n.address,onChange:d,placeholder:"Address",required:!0}),Object(o.jsx)("input",{type:"tel",name:"phone_number",value:n.phone_number,onChange:d,placeholder:"Phone Number",required:!0}),Object(o.jsx)("input",{type:"email",name:"email_address",value:n.email_address,onChange:d,placeholder:"Email Address",required:!0}),Object(o.jsx)("button",{type:"submit",children:"Update Member"}),Object(o.jsx)("button",{type:"button",onClick:()=>a(null),children:"Cancel"})]}),Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"ID"}),Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Age"}),Object(o.jsx)("th",{children:"Gender"}),Object(o.jsx)("th",{children:"Address"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Actions"})]})}),Object(o.jsx)("tbody",{children:e.map((e=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.age}),Object(o.jsx)("td",{children:e.gender}),Object(o.jsx)("td",{children:e.address}),Object(o.jsx)("td",{children:e.phone_number}),Object(o.jsx)("td",{children:e.email_address}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:()=>(e=>{a(Object(i.a)({},e))})(e),children:"Edit"}),Object(o.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this member?"))try{await b.a.delete("/members/".concat(e)),c(),alert("Member deleted successfully")}catch(t){console.error("Error deleting member:",t),alert("Failed to delete member")}})(e.id),children:"Delete"})]})]},e.id)))})]})]})};var u=function(){return Object(o.jsx)(l.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(l.b,{to:"/",children:"Sign Up"})}),Object(o.jsx)("li",{children:Object(o.jsx)(l.b,{to:"/admin",children:"Admin"})})]})}),Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{exact:!0,path:"/",children:Object(o.jsx)(h,{})}),Object(o.jsx)(s.a,{path:"/admin",children:Object(o.jsx)(m,{})})]})]})})};d.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(u,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.740ec3db.chunk.js.map